---
sidebar_position: 1
---

# Solana

Security has been an integral part of C√≥digo AI Generator from the beginning. This document will go through the security checks generated and how to execute the security test cases. 

## Verify Signers

This security check is generated by default for all methods defined in the CIDL. You can find the usage of this verification in the `processor.rs` file of the generated smart contract within each function that starts with `process_`. 

```
verify_signers(&[fee_payer_account_info])?;
```

If you execute the test case for this security check, you will see the following output:

```
test sec_utils::tests::it_test_verify_signer_address_is_ok ... ok
test sec_utils::tests::it_test_verify_signers_is_ok ... ok
```

The implementation for `verify_signers` is located at: `codigolib/src/sec_utils.rs`. The developer doesn‚Äôt require to do anything to enable this security check.

## Verify Ownership

Is generated by default for all accounts used within a method. You can find the usage of this verification in the `processor.rs` file of the generated smart contract within each function that starts with `process_`. 

```
verify_ownership(
    &Pubkey::from_str(&"11111111111111111111111111111111").unwrap(),
    &[author_account_info],
)?;
verify_ownership(
    program_id,
    &[post_account_info],
)?;
```
If you execute the test case for this security check, you will see the following output:
```
test sec_utils::tests::it_verify_ownership_is_ok ... ok
```

The implementation for `verify_ownership` is located at: `codigolib/src/sec_utils.rs` To configure the owner of an account within the CIDL, we need to define the solana extension to the data type, and within the extension define the property `owner`. The property `owner` allow values to be `self` or a static public key. If the property `owner` is omitted, it will default to `self`. For example:

```
types:
  AccountWithoutOwnerSet:
    fields:
	- name: index
	  type: u8
  AccountWithSelfOwner:
    solana:
      owner: self
    fields:
	- name: index
	  type: u8
  AccountWithStaticPublicKey:
    solana:
      owner: 2SVR8inD9PjWMvAgAyCYxE49nUnG5GjXtRWRGow61ArC
    fields:
	- name: index
	  type: u8
```

## Verify PDA

The verify PDA Is generated by default for all PDA accounts used within a method. You can find the usage of this verification in the `processor.rs` file of the generated smart contract within each function that starts with `process_`. 

```
verify_pda(
    post_account_info,
    &[
        b"post",
        &author_account_info.key.to_bytes(),
        &post_seed_index.to_le_bytes(),
    ],
    &Posts::get_declared_owner_or_default(*program_id),
)?;
```
If you execute the test case for this security check, you will see the following output:
```
test sec_utils::tests::it_test_verify_pda_is_ok ... ok
```
The implementation for `verify_pda` is located at: `codigolib/src/sec_utils.rs`. The developer doesn‚Äôt require any additional steps to enable this verification. The verification is done based on the seeds‚Äô definition. From the above verification, the CIDL that produced it was:
```
types:
  Posts:
    solana:
      seeds:
        - name: post
        - name: user
          type: sol:pubkey
        - name: index
          type: u16
    fields:
      - name: title
        type: string
        solana:
          attributes: [ cap:96 ]
```
## Verify Account Length
Is generated by default for all accounts used within a method. You can find the usage of this verification in the `processor.rs` file of the generated smart contract within each function that starts with `process_`. 
```
verify_len(User::LEN, &[author_account_info])?;
```
If you execute the test case for this security check, you will see the following output:
```
test sec_utils::tests::it_test_verify_len_is_ok ... ok
```
The implementation for `verify_len` is located at: `codigolib/src/sec_utils.rs`. The developer doesn‚Äôt require any additional steps to enable this verification. The verification is done based on the fields‚Äô definitions. From the above verification, the CIDL that produced it was:
```
types:
  User:
    summary: Through this data structure, we will store the user information; a user can create or comment on posts
    fields:
      - name: display_name
        type: string
        solana:
          attributes: [ cap:36 ]
      - name: posts
        type: u16
```

## Executing the Test Cases

After you have generated the Solana smart contract, you will see in the generated directories, a directory named `codigolib`. Open a new terminal by going to Terminal -> New Terminal and navigate to the `codigolib` directory. In the `codigolib` directory, execute the `cargo test` command. This command will execute all the available test cases.

## Next steps

**Congratulations!** üéâüëè at this point, you should have a basic understanding of security checks generated for a solana contract. To summarize what we learned:

- C√≥digo AI Generator guarantees the generation of security checks, even if the developer doesn‚Äôt specify it.
- We generate the test cases for all security checks.
- We can execute the test cases by going to the `codigolib` directory and typing the command `cargo test`

These links may help you on your journey to writing smart contracts with the CIDL:
- [Learning the Basic](https://docs.codigo.ai/cidl/Learning%20the%20Basics)
- [Building Solana Programs with CIDL: A Comprehensive Guide Part I](https://docs.codigo.ai/guides/guide-1)

### Join the C√≥digo community üíö
C√≥digo is a growing community of developers. Join us on **[Discord](https://docs.google.com/forms/d/e/1FAIpQLSdSG0OgJ5xuwwU7JiSGBdn01L3ID68qNCd2HAnFSztXVYKmBg/viewform)** and **[GitHub](https://docs.google.com/forms/d/e/1FAIpQLSdGDGH4bwQf5dX3-uFCYeRKzIGbd5dVEPxHKQPTt63bBVVcVQ/viewform)** 
